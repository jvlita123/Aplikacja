@model Data.Entities.Course
@using System.IO;
@using System.Drawing

@{
    ViewData["Title"] = "GetCourse";
    var cycles = (IEnumerable<Data.Entities.Cycle>)ViewData["cycles"];
    var enrolledUsers = (IEnumerable<Data.Entities.User>)ViewData["enrolledUsers"];
}

<head>
    <link rel="stylesheet" href="~/css/courses/getCourse.css" />
    <link rel="stylesheet" href="~/assets/css/style.css" />
    <script src="../../assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="../../assets/js/off-canvas.js"></script>
    <script src="../../assets/js/hoverable-collapse.js"></script>
    <script src="../../assets/js/misc.js"></script>
    <script src="~/assets/vendors/js/vendor.bundle.base.js"></script>
    <script src="~/assets/vendors/chart.js/Chart.min.js"></script>
    <script src="~/assets/js/off-canvas.js"></script>
    <script src="~/assets/js/hoverable-collapse.js"></script>
    <script src="~/assets/js/misc.js"></script>
    <script src="~/assets/js/chart.js"></script>
</head>


<div class="col-12 "style="margin-top: 0;">
    <div class="card">

         <div class="card">
             <div class="row d-flex justify-content-between px-3 top">
                 <div class="d-flex">
                     <h3>@Model.Title</h3>
                 </div>
                 <div class="d-flex flex-column text-sm-right">
                  <p><span class="font-weight-bold">@Model.Description</span></p>
                 </div>
             </div>
             <div class="row d-flex justify-content-center">
                 <div class="col-12">
                     <ul id="progressbar" class="text-center">
                          @foreach (var v in cycles)
                          {
                                 <a asp-controller="Cycles" class="progress-line" asp-action="GetCycle" asp-route-id="@v.Id">
                                 <li class=" active step0 mdi mdi-check"></li></a>
                          }
                          <li class="step0 mdi mdi-checkbox-blank-circle-outline"></li>
                     </ul>
                 </div>
                     <div id="partialViewContainer"></div>
             </div>
         </div>
         <div>
              <a asp-action="Index">Back to List</a>
         </div>
    </div>
</div>



<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    $(document).on('click', '.progress-line', function (e) {
        e.preventDefault();
        var url = $(this).attr('href'); 
        $.get(url, function (data) {
            $('#partialViewContainer').html(data);
        });
    });
</script>